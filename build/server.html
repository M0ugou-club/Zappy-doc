<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="./favicon.png" />
        <meta name="viewport" content="width=device-width" />
        
		<link href="./_app/immutable/assets/0.CJyl4jTi.css" rel="stylesheet">
		<link href="./_app/immutable/assets/Icon.Cirlo5Z8.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.B-7pKhf3.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/entry.Dnnb9uVf.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.BGzgsL_S.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.B_R7t56M.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.BzCWrXuV.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.0HuHwaNS.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.5bp4wWC2.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Icon.oPkWQIMF.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/7.CkUWHpos.js">
    </head>
    <body data-sveltekit-preload-data="hover" data-theme="zappy-doc-theme">
        <div style="display: contents" class="h-full overflow-hidden">
              <div id="appShell" class="w-full h-full flex flex-col overflow-hidden " data-testid="app-shell">   <div class="flex-auto w-full h-full flex overflow-hidden"> <aside id="sidebar-left" class="flex-none overflow-x-hidden overflow-y-auto w-auto">  <div class="app-rail grid grid-rows-[auto_1fr_auto] overflow-y-auto bg-surface-100-800-token  w-20 h-full gap-0 " data-testid="app-rail"> <div class="app-bar-lead box-border "></div>  <div class="app-bar-default box-border "><a class="app-rail-anchor unstyled " href="./" title="Project" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-egg"><path d="M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z"></path></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-ybr4ui">Zappy</span></div></div></a> <a class="app-rail-anchor unstyled " href="./server" title="Server" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-server"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"></rect><rect width="20" height="8" x="2" y="14" rx="2" ry="2"></rect><line x1="6" x2="6.01" y1="6" y2="6"></line><line x1="6" x2="6.01" y1="18" y2="18"></line></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-itp0ph">Server</span></div></div></a> <a class="app-rail-anchor unstyled " href="./clients/ai" title="Clients" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-monitor-smartphone"><path d="M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8"></path><path d="M10 19v-3.96 3.15"></path><path d="M7 19h5"></path><rect width="6" height="10" x="16" y="12" rx="2"></rect></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-1vurjde">Clients</span></div></div></a></div>  <div class="app-bar-trail box-border "></div></div> </aside>  <div id="page" class=" flex-1 overflow-x-hidden flex flex-col" style="scrollbar-gutter: auto;">   <main id="page-content" class="flex-auto ">    <div class="h-full m-8 flex"><div class="space-y-5 h-[90%] w-full overflow-y-scroll"><h1 class="h1 py-4" data-svelte-h="svelte-238tlo"><b>Server</b></h1> <span data-svelte-h="svelte-18gbno5">The server part is responsible for managing connections between clients and the game. It is written in C and only uses the standard library.</span> <hr class="!border-t-2"> <h2 class="h2 py-4" data-svelte-h="svelte-n9wibm"><b>Select</b></h2> <span data-svelte-h="svelte-12heytm">The management of communication is done using the standard C library function <code class="code">select</code></span> <br> <br> <span data-svelte-h="svelte-3wca28">Each time a client attempts to connect to the server, a new connection is created, this connection contains a character buffer, each time data is sent from the client to the server, it gets added to this buffer until a \n is found, the buffer is then interpreted by the server and execute its corresponding action if found.</span> <h2 class="h2 py-4" data-svelte-h="svelte-174fli6"><b>Connection</b></h2> <span data-svelte-h="svelte-hvin5z">When a connection is established with the server, it initiates a <b>handshake</b>, it can branch into 2 different directions depending on the team the <b>client</b> is trying to join.</span> <h3 class="h3" data-svelte-h="svelte-15e24xg">AI:</h3> <span><ul class="list-disc pl-5"><li>&lt;- WELCOME</li> <li>-> AI_TEAM</li> <li>&lt;-  CONNECTIONS_LEFT</li> <li>&lt;-  X Y</li></ul></span> <h3 class="h3" data-svelte-h="svelte-1xqpm8b">GUI:</h3> <span><ul class="list-disc pl-5"><li>&lt;- WELCOME</li> <li>-> GRAPHIC</li> <li>&lt;- MSZ</li> <li>&lt;- MCT</li> <li>&lt;- TNA</li> <li>&lt;- PNW (for each player already connected)</li></ul></span> <br>
        If the team name is invalid, the server will instantly reply with a <b data-svelte-h="svelte-1gfbn32">ko</b> followed by a newline and close the connection.
        <h1 class="h2 py-4" data-svelte-h="svelte-ht4gfk"><b>Map</b></h1> <span data-svelte-h="svelte-1dapeyo"><b>The map</b> is a <b>table of cells (2 dimensional array)</b> contained within the game structure. Each cell also contains a pointer to the cells at its 4 cardinal directions:
            <ul class="list-disc pl-5"><li>North (cell-&gt;north)</li> <li>East (cell-&gt;east)</li> <li>South (cell-&gt;south)</li> <li>West (cell-&gt;west)</li></ul></span> <h1 class="h2 py-4" data-svelte-h="svelte-1m5uf57"><b>Cells</b></h1> <span data-svelte-h="svelte-21f0lo"><b>The cells</b> of the map are <b>linked</b> to each other <b>by pointers: &quot;NORTH/SOUTH/EAST/WEST</b>&quot;.
            <br>Each cell contains:
            <ul class="list-disc pl-5"><li>an x position</li> <li>a y position</li> <li>a list of eggs</li> <li>a list of items</li> <li>and a boolean to indicate whether it has been updated</li></ul></span> <h1 class="h2 py-4" data-svelte-h="svelte-1dmvtfp"><b>Distribution of items</b></h1> <span data-svelte-h="svelte-u8259p"><b>For each item</b>, the program adds the items <b>one by one</b> to <b>random tiles on the map</b>, taking care not to exceed the <b>maximum possible</b> number for each item. This maximum number is <b>calculated</b> according to this formula: <b>&quot;map_width * map_height * density&quot;</b>.</span> <h1 class="h2 py-4" data-svelte-h="svelte-i1gc00"><b>Eggs</b></h1> <span data-svelte-h="svelte-1wh3zuu"><b>The eggs</b> are <b>distributed in the same way as the items</b>, but they are assigned an <b>ID and a team name</b>. The <b>maximum number of eggs per team</b> at the start of the game is defined with the <b>c flag</b>. Throughout the game, <b>players can lay eggs</b>. This allows them to  <b>connect more</b>.</span> <h1 class="h2 py-4" data-svelte-h="svelte-xc25r0"><b>Players</b></h1> <span data-svelte-h="svelte-1uvi80w"><b>The players</b> are contained in a <b>linked list</b> stored within the &quot;game&quot; structure. Each player has a multitude of information and data:
            <ul class="list-disc pl-5"><li>such as an ID</li> <li>a team name</li> <li>a cell</li> <li>a direction</li> <li>an action cooldown</li> <li>a level</li> <li>an inventory</li> <li>a file descriptor</li> <li>an eating cooldown</li> <li>a boolean for connection</li> <li>another for incantation</li> <li>a pointer to the next player in the list</li></ul></span></div></div>   </main>  </div>  </div>  </div> 
			
			<script>
				{
					__sveltekit_o2far = {
						base: new URL(".", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":null,"uses":{}},null];

					Promise.all([
						import("./_app/immutable/entry/start.B-7pKhf3.js"),
						import("./_app/immutable/entry/app.BzCWrXuV.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 7],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
        </div>
    </body>
</html>
