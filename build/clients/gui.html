<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="../favicon.png" />
        <meta name="viewport" content="width=device-width" />
        
		<link href="../_app/immutable/assets/0.K9HFOsqI.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Icon.Cirlo5Z8.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.DzrvQxWA.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/entry.CvrZiryQ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.BGzgsL_S.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.NrzwN5qF.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.v23DQyG8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.CSRrO7X8.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.EDuBxrBq.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Icon.nGvCGV7F.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.n2xVbOh9.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/6.BX-cC6SE.js">
    </head>
    <body data-sveltekit-preload-data="hover" data-theme="zappy-doc-theme">
        <div style="display: contents" class="h-full overflow-hidden">
              <div id="appShell" class="w-full h-full flex flex-col overflow-hidden " data-testid="app-shell">   <div class="flex-auto w-full h-full flex overflow-hidden"> <aside id="sidebar-left" class="flex-none overflow-x-hidden overflow-y-auto w-auto">  <div class="app-rail grid grid-rows-[auto_1fr_auto] overflow-y-auto bg-surface-100-800-token  w-20 h-full gap-0 " data-testid="app-rail"> <div class="app-bar-lead box-border "></div>  <div class="app-bar-default box-border "><a class="app-rail-anchor unstyled " href="../" title="Project" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-egg"><path d="M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z"></path></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-ybr4ui">Zappy</span></div></div></a> <a class="app-rail-anchor unstyled " href="../server" title="Server" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-server"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"></rect><rect width="20" height="8" x="2" y="14" rx="2" ry="2"></rect><line x1="6" x2="6.01" y1="6" y2="6"></line><line x1="6" x2="6.01" y1="18" y2="18"></line></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-itp0ph">Server</span></div></div></a> <a class="app-rail-anchor unstyled " href="../protocol" title="Protocol" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-handshake"><path d="m11 17 2 2a1 1 0 1 0 3-3"></path><path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4"></path><path d="m21 3 1 11h-2"></path><path d="M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3"></path><path d="M3 4h8"></path></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-180rmnu">Protocol</span></div></div></a> <a class="app-rail-anchor unstyled " href="../clients" title="Clients" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-monitor-smartphone"><path d="M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8"></path><path d="M10 19v-3.96 3.15"></path><path d="M7 19h5"></path><rect width="6" height="10" x="16" y="12" rx="2"></rect></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-1vurjde">Clients</span></div></div></a></div>  <div class="app-bar-trail box-border "></div></div> </aside>  <div id="page" class=" flex-1 overflow-x-hidden flex flex-col" style="scrollbar-gutter: auto;">   <main id="page-content" class="flex-auto ">    <div id="appShell" class="w-full h-full flex flex-col overflow-hidden " data-testid="app-shell">   <div class="flex-auto w-full h-full flex overflow-hidden"> <aside id="sidebar-left" class="flex-none overflow-x-hidden overflow-y-auto w-auto">  <div class="app-rail grid grid-rows-[auto_1fr_auto] overflow-y-auto bg-surface-100-800-token  w-20 h-full gap-0 " data-testid="app-rail"> <div class="app-bar-lead box-border "></div>  <div class="app-bar-default box-border "><a class="app-rail-anchor unstyled " href="../clients/ai" title="AI" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-brain-circuit"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M9 13a4.5 4.5 0 0 0 3-4"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M6 18a4 4 0 0 1-1.967-.516"></path><path d="M12 13h4"></path><path d="M12 18h6a2 2 0 0 1 2 2v1"></path><path d="M12 8h8"></path><path d="M16 8V5a2 2 0 0 1 2-2"></path><circle cx="16" cy="13" r=".5"></circle><circle cx="18" cy="3" r=".5"></circle><circle cx="20" cy="21" r=".5"></circle><circle cx="20" cy="8" r=".5"></circle></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-gypgj8">AI</span></div></div></a> <a class="app-rail-anchor unstyled " href="../clients/gui" title="GUI" data-sveltekit-reload role="button" data-testid="app-rail-anchor"><div class="app-rail-wrapper w-full flex flex-col justify-center items-stretch text-center space-y-1 aspect-square bg-primary-hover-token space-y-1 "><div class="app-rail-lead flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-laptop"><path d="M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16"></path></svg></div> <div class="app-rail-label font-bold text-xs "><span data-svelte-h="svelte-gr7k4b">GUI</span></div></div></a></div>  <div class="app-bar-trail box-border "></div></div> </aside>  <div id="page" class=" flex-1 overflow-x-hidden flex flex-col" style="scrollbar-gutter: auto;">   <main id="page-content" class="flex-auto ">    <div class="h-full m-8 flex" data-svelte-h="svelte-3scddq"><div class="space-y-5 h-[90%] w-full overflow-y-scroll"><h1 class="h1 py-4"><b>GUI</b></h1> <span>The GUI is a 3D graphical interface for the game that shows the map and all the players in real time.<br>
            It shows all the items on the map, the players, it shows an animation when a player is doing a ritual and when a player is broadcasting.<br>
            It is made in C++ and is principally using the <b>RayLib</b> library for all the graphical aspects.</span> <hr class="!border-t-2"> <h2 class="h2 py-4"><b>Controls</b></h2> <span>The <b>GUI</b> is controlled with the mouse and the keyboard.<br>
            The <b>camera</b> is always looking at the center of the map and is rotating around it.<br>
            The <b>camera</b> can be moved with ZQSD.<br> <ul class="list-disc pl-5"><li>Z - Move the camera forward</li> <li>Q - Move the camera to the left</li> <li>S - Move the camera backward</li> <li>D - Move the camera to the right</li></ul>
            This also works with WASD or any other <b>keyboard layouts</b>.<br></span> <h2 class="h2 py-4"><b>Displaying</b></h2> <span>The <b>GUI</b> is running in a <b>loop that updates the display</b>, <b>FPS</b> are limited to <b>60</b>.<br>
            This loop is handled by the Scenes and is drawing <b>all the elements of the game</b>, the map, the players, the items, the animations, etc.<br>
            All of those elements have <b>their own update function</b> that is <b>called by the loop</b>.<br></span> <h2 class="h2 py-4"><b>Scenes</b></h2> <span><b>Scenes</b> are the <b>different states</b> of the game, like the main menu and the game that are scenes.<br>
            It contains an <b>update function</b> that is called by the main loop that <b>call all the update functions</b> of the elements of the scene.<br>
            There are also a <b>load</b>, <b>unload</b> that are called when the scene is loaded or unloaded. A <b>closeWindow function</b> for closing the window and a <b>shouldClose function</b> that return a boolean to know if the window should be closed. (for exemple when the user click on the close button of the window)<br></span> <h2 class="h2 py-4"><b>Map</b></h2> <span>The <b>map</b> is a <b>2D white and black grid</b> that represents a <b>chess board.</b><br>
            The map size is given by the server at connection, <b>it can be a square or rectangle size</b> (8x8 or 3x14 for example).<br>
            The map is then generated in the form of a table of cubes. Each time a cube is created, its position is calculated based on the center and the previous cube.<br>
            For each cube created, its color is changed to black or white based on a boolean that toggles each time. This boolean also inverts each time the last cube of a row in the table is created. In this way, a <b>checkerboard</b> pattern is formed.<br> <b>On each tile of the map</b>, there can be found a <b>list of eggs</b>, a <b>list of items</b>, an <b>x/y position</b>, and four <b>pointers (North/South/East/West) to the adjacent tiles</b>. The game board represents the entirety of this world&#39;s surface, like a world map. If a player exits by the right of the board, they will come back through the left. Up-&gt;down,
            and so on...</span> <h2 class="h2 py-4"><b>Camera</b></h2> <span>To create the <b>camera</b>, we encapsulated the Raylib <b>3D camera</b>. Raylib already has a camera system and preset camera setups. However, we decided to manage the camera ourselves because the presets did not fit what we wanted to achieve. During the initialization of the camera, its <b>target</b> is set to the <b>center</b> of the map and this will not change. We position it at a certain distance from the target, which remains constant. We also set its FOV to 90 and its type to &quot;CAMERA_PERSPECTIVE&quot; according to Raylib&#39;s types. The camera has a move method and an update method. The <b>move</b> method allows the camera to be moved using the <b>&quot;zqsd&quot;</b> keys. The &quot;z&quot; and &quot;s&quot; keys are used to move forward and backward relative to the center of the map. The &quot;q&quot; and &quot;d&quot; keys are used to rotate around the center of the map. Finally, the update method is used to handle key events and update the camera in real time.</span> <h2 class="h2 py-4"><b>Players</b></h2> <span><b>Players</b> are <b>3D models</b> that move and orient on the map from the server&#39;s instructions, they have the <b>color</b> of their <b>team</b> and can pick up items and lay eggs.<br>
            For <b>each levels</b>, players have a <b>different model</b>, a <b>levitation animation</b> is played when a player is doing a <b>ritual</b>.</span> <h2 class="h2 py-4"><b>Items</b></h2> <span><b>Items</b> are displayed on the map as a 3D object, they are represented by a <b>3D model</b> with a texture that spins on itself with a hover animation, very much <b>like</b> the items in the game <b>Minecraft</b>.<br>
            There are <b>different types of items</b>, each with a different model and texture. There is <b>only one type</b> of each item on a tile that can be stacked. The <b>stacks</b> are represented by being <b>one on top of the other.</b><br>
            Contrary to what you might think, the <b>items are not objects</b>, but it&#39;s only just a <b>renderer</b> that is displayed on the map.</span> <h2 class="h2 py-4"><b>Broadcast</b></h2> <span>The <b>Broadcast</b> is represented like a Minecraft chat at the bottom left of the screen. It also displays other information like the available teams or a welcome message. The messages broadcasted are sent by the <b>server</b> and are displayed in real time.<br>
            When a message is coming, <b>RayLib Texts</b> are created containing the message, and a semi-transparent black rectangle rendered before the text to make it readable against the background. All of this is <b>encapsulated</b> in a class that has an update function that is called by the main update loop to be rendered each frame.<br>
            Each message has its own <b>life timer</b>, when it reaches 0, another timer starts to <b>fade the message out</b>. It is then deleted from the list of messages to be displayed.</span> <h2 class="h2 py-4"><b>Networking</b></h2> <span><b>The comunication with the server</b> is done with <b>TCP</b> sockets. The connection is <b>in a separate thread</b> and the <b>messages added in a shared queue</b> that is read by the main thread.<br>
            Messages are read and the action is selected using <b>regex</b>. The message is then parsed and the action is done.<br>
            The GUI will <b>never send anything</b> to the server, except at the connection, the GUI will <b>send &quot;GRAPHIC&quot;</b> to let the server know that it is a graphical client.</span></div></div>   </main>  </div>  </div>  </div>   </main>  </div>  </div>  </div> 
			
			<script>
				{
					__sveltekit_6utzxx = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":null,"uses":{}},null,null];

					Promise.all([
						import("../_app/immutable/entry/start.DzrvQxWA.js"),
						import("../_app/immutable/entry/app.v23DQyG8.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 6],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
        </div>
    </body>
</html>
